import{j as x}from"./jsx-runtime-Cl2eCCBe.js";import{r as i}from"./index-Cqyox1Tj.js";const p=r=>{const{className:y="",style:g={},offset:c=0,width:v,onContentVisible:d,placeholder:b,height:T,children:L}=r,l=i.useRef(null),[q,w]=i.useState(!1),z=o=>{var h;const[e]=o,{isIntersecting:s}=e;if(s){w(!0),d==null||d();const a=l.current;a&&a instanceof HTMLElement&&((h=n.current)==null||h.unobserve(a))}},n=i.useRef();i.useEffect(()=>{const o={rootMargin:typeof c=="number"?`${c}px`:c||"0px",threshold:0};n.current=new IntersectionObserver(z,o);const e=l.current;return e instanceof HTMLElement&&n.current.observe(e),()=>{var s;e&&e instanceof HTMLElement&&((s=n.current)==null||s.unobserve(e))}},[]);const E={height:T,width:v,...g};return x.jsx("div",{ref:l,className:y,style:E,children:q?L:b})};p.__docgenInfo={description:"",methods:[],displayName:"Lazyload",props:{className:{required:!1,tsType:{name:"string"},description:"类名"},style:{required:!1,tsType:{name:"CSSProperties"},description:"样式"},placeholder:{required:!1,tsType:{name:"ReactNode"},description:"占位内容"},offset:{required:!1,tsType:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},description:"距离可视区域多远提前触发加载"},width:{required:!1,tsType:{name:"union",raw:"number | string",elements:[{name:"number"},{name:"string"}]},description:"内容包裹区域宽"},height:{required:!1,tsType:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},description:"内容包裹区域高"},onContentVisible:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"进入可视区域的回调"},children:{required:!0,tsType:{name:"ReactNode"},description:""}}};const R=""+new URL("picture-BIm6Ev2v.jpg",import.meta.url).href;function N(){return"test lazyload"}const f=r=>x.jsxs("div",{children:[x.jsx("p",{children:"打开开发者工具观察 dom 变化"}),x.jsx("p",{children:"xxxxxx"}),x.jsx("p",{children:"xxxxxx"}),x.jsx("p",{children:"xxxxxx"}),x.jsx("p",{children:"xxxxxx"}),x.jsx("p",{children:"xxxxxx"}),x.jsx("p",{children:"xxxxxx"}),x.jsx("p",{children:"xxxxxx"}),x.jsx("p",{children:"xxxxxx"}),x.jsx("p",{children:"xxxxxx"}),x.jsx("p",{children:"xxxxxx"}),x.jsx("p",{children:"xxxxxx"}),x.jsx("p",{children:"xxxxxx"}),x.jsx("p",{children:"xxxxxx"}),x.jsx("p",{children:"xxxxxx"}),x.jsx("p",{children:"xxxxxx"}),x.jsx("p",{children:"xxxxxx"}),x.jsx("p",{children:"xxxxxx"}),x.jsx("p",{children:"xxxxxx"}),x.jsx("p",{children:"xxxxxx"}),x.jsx("p",{children:"xxxxxx"}),x.jsx("p",{children:"xxxxxx"}),x.jsx("p",{children:"xxxxxx"}),x.jsx("p",{children:"xxxxxx"}),x.jsx("p",{children:"xxxxxx"}),x.jsx("p",{children:"xxxxxx"}),x.jsx("p",{children:"xxxxxx"}),x.jsx("p",{children:"xxxxxx"}),x.jsx("p",{children:"xxxxxx"}),x.jsx("p",{children:"xxxxxx"}),x.jsx("p",{children:"xxxxxx"}),x.jsx("p",{children:"xxxxxx"}),x.jsx("p",{children:"xxxxxx"}),x.jsx("p",{children:"xxxxxx"}),x.jsx("p",{children:"xxxxxx"}),x.jsx("p",{children:"xxxxxx"}),x.jsx("p",{children:"xxxxxx"}),x.jsx("p",{children:"xxxxxx"}),x.jsx("p",{children:"xxxxxx"}),x.jsx("p",{children:"xxxxxx"}),x.jsx(p,{...r,children:x.jsx("img",{src:R})}),x.jsx(p,{...r,children:x.jsx(N,{})})]}),M={title:"components/Lazyload",component:f,parameters:{layout:"centered"},tags:["autodocs"],args:{placeholder:x.jsx("div",{children:"loading..."})}},t={args:{placeholder:x.jsx("div",{children:"loading..."})},render:f};var m,u,j;t.parameters={...t.parameters,docs:{...(m=t.parameters)==null?void 0:m.docs,source:{originalSource:`{
  args: {
    placeholder: <div>loading...</div>
  },
  render: renderLazyload
}`,...(j=(u=t.parameters)==null?void 0:u.docs)==null?void 0:j.source}}};const S=["Placeholder"];export{t as Placeholder,S as __namedExportsOrder,M as default};
